<div class="invoice-form">
  <h2>Nouvelle facture</h2>
  <h3>Clients</h3>
  <form [formGroup]="clientForm">
    <div class="cient-form-group">
      <div class="form-item">
        <label for="nomClient">Nom<span>*</span></label>
        <input type="text" formControlName="nomClient" [class.invalid-field]="isRequieredInputValid('nomClient')"/>
      </div>
      <div class="form-item">
        <label for="email">Email</label>
        <input type="text" formControlName="emailClient" [class.invalid-field]="isInputValid('emailClient')" />
      </div>
      <div class="form-item">
        <label for="adresse">Adresse<span>*</span></label>
        <input type="text" formControlName="adresseClient" [class.invalid-field]="isRequieredInputValid('adresseClient')"/>
      </div>
      <div class="form-item">
        <label for="codePostal">CP<span>*</span></label>
        <input type="text" formControlName="cpClient" [class.invalid-field]="isRequieredInputValid('cpClient')" />
      </div>
      <div class="form-item">
        <label for="ville">Ville<span>*</span></label>
        <input type="text" formControlName="villeClient" [class.invalid-field]="isRequieredInputValid('villeClient')"/>
      </div>
      <div class="form-item">
        <label for="pays">Pays<span>*</span></label>
        <input type="text" formControlName="paysClient" [class.invalid-field]="isRequieredInputValid('paysClient')"/>
      </div>
      <div class="form-item">
        <label for="telephone">Telephone</label>
        <input type="tel" formControlName="telClient" [class.invalid-field]="isInputValid('telClient')"/>
      </div>
      <div class="form-item">
        <label for="siren_siret">SIRET<span>*</span></label>
        <input type="text" formControlName="siren_siretClient" [class.invalid-field]="isRequieredInputValid('siren_siretClient')"/>
      </div>
    </div>
  </form>
  <h3>Details facture</h3>
  <form [formGroup]="detailsForm">
    <div class="date-form-group">
      <div class="form-item">
        <label for="dateEmission">Date Emission</label>
        <input type="date" formControlName="dateEmission" />
      </div>
      <div class="form-item">
        <label for="dateEcheance">Date Echeance</label>
        <input type="date" formControlName="dateEcheance" />
      </div>
    </div>
  </form>
  <div class="add-item-button">
    <h4>Items</h4>
    <button (click)="onAddItem()">+</button>
  </div>
  <div class="items-field">
    <div class="field-desc"><p>Description</p></div>
    <div class="field-quant"><p>Qte</p></div>
    <div class="field-price"><p>Prix</p></div>
    <div class="field-tva"><p>TVA</p></div>
    <div class="field-mnt-tva"><p>mnt TVA</p></div>
    <div class="field-total"><p>Total</p></div>
  </div>
  <app-new-invoice-item
    *ngFor="let itemElement of invoiceItems; let i = index"
    [item]="itemElement"
    (itemSaveEvent)="saveItemData($event)"
    (itemDeleteEvent)="onDeleteItemForm($event)"
  ></app-new-invoice-item>
  <div class="save-button">
    <button
      type="submit"
      (click)="onInvoiceFormSubmit()"
      [disabled]="clientForm.invalid"
    >
      Enregistrer
    </button>
  </div>
  <div class="legend">
    <p>* Champs obligatoires</p>
  </div>
</div>
